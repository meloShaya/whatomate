# Railway-compatible Configuration for Whatomate
# This file uses environment variables that will be set by Railway

[app]
name = "Whatomate"
environment = "production"  # Will be overridden by WHATOMATE_ENV
debug = false  # Will be overridden by WHATOMATE_DEBUG

[server]
host = "0.0.0.0"
port = 8080  # Will be overridden by WHATOMATE_SERVER_PORT or PORT

[database]
host = "${DATABASE_HOST}"  # Set by Railway PostgreSQL addon
port = "${DATABASE_PORT_INT}"  # Set by Railway PostgreSQL addon
user = "${DATABASE_USER}"  # Set by Railway PostgreSQL addon
password = "${DATABASE_PASSWORD}"  # Set by Railway PostgreSQL addon
name = "${DATABASE_NAME}"  # Set by Railway PostgreSQL addon
ssl_mode = "require"  # Railway requires SSL for database connections
max_open_conns = 25
max_idle_conns = 5
conn_max_lifetime = 300

[redis]
host = "${REDIS_URL_HOST}"  # Set by Railway Redis addon
port = "${REDIS_URL_PORT_INT}"  # Set by Railway Redis addon
password = "${REDIS_URL_PASSWORD}"  # Set by Railway Redis addon
db = 0

[jwt]
secret = "${WHATOMATE_JWT_SECRET}"  # Required - set in Railway dashboard
access_expiry_mins = 15
refresh_expiry_days = 7

[storage]
type = "local"  # For Railway deployment, using local storage
local_path = "./uploads"
# Note: For production, consider using S3 or similar object storage

# Default admin credentials (only used during initial setup when no users exist)
[default_admin]
email = "${WHATOMATE_DEFAULT_ADMIN_EMAIL}"
password = "${WHATOMATE_DEFAULT_ADMIN_PASSWORD}"
full_name = "${WHATOMATE_DEFAULT_ADMIN_FULL_NAME}"