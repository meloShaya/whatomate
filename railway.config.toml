# Railway-compatible Configuration for Whatomate
# This is a sample template â€” runtime configuration will be generated into /app/config.toml by the entrypoint
# and populated from Railway-provided env vars.

[app]
name = "Whatomate"
environment = "production"  # Will be overridden by WHATOMATE_ENV
debug = false  # Will be overridden by WHATOMATE_DEBUG

[server]
host = "0.0.0.0"
port = 8080  # Will be overridden by WHATOMATE_SERVER_PORT or PORT

[database]
host = "${PGHOST}"
port = "${PGPORT}"
user = "${PGUSER}"
password = "${PGPASSWORD}"
name = "${PGDATABASE}"
ssl_mode = "require"
max_open_conns = 25
max_idle_conns = 5
conn_max_lifetime = 300

[redis]
host = "${REDIS_URL_HOST}"
port = "${REDIS_URL_PORT_INT}"
password = "${REDIS_URL_PASSWORD}"
db = 0

[jwt]
secret = "${WHATOMATE_JWT_SECRET}"
access_expiry_mins = 15
refresh_expiry_days = 7

[storage]
type = "local"
local_path = "./uploads"

[default_admin]
email = "${WHATOMATE_DEFAULT_ADMIN_EMAIL}"
password = "${WHATOMATE_DEFAULT_ADMIN_PASSWORD}"
full_name = "${WHATOMATE_DEFAULT_ADMIN_FULL_NAME}"
